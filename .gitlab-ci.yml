variables:
  GIT_CLONE_PATH: ${CI_BUILDS_DIR}/${CI_PROJECT_NAME}

stages:
   - build
   - test
   - html
   - deploy

include:
   #the default pipeline always executed with every push
   - local: 'docker/CI/short-pipeline.yml'
     rules:
        -if: $CI_PIPELINE_SOURCE == "push" 
   #The pipeline only executed when not a single push triggers 
   - local: 'docker/CI/long-pipeline.yml'
     rules:
        -if: $CI_PIPELINE_SOURCE != "push"   
